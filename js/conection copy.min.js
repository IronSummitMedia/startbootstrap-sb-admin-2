/*!
 * Start Bootstrap - SB Admin 2 v4.1.4 (https://startbootstrap.com/theme/sb-admin-2)
 * Copyright 2013-2022 Start Bootstrap
 * Licensed under MIT (https://github.com/StartBootstrap/startbootstrap-sb-admin-2/blob/master/LICENSE)
 */

const server="http://localhost:8082",header={"Content-Type":"application/json"};var tipo_veiculo=0,veiculo=0;function limpacampos(){veiculo=tipo_veiculo=0,document.getElementById("vehicleDesc").value="",document.getElementById("vehicleName").value="",document.getElementById("vehiclePlate").value="",document.getElementById("getVehicleType").value="",document.getElementById("vehicleNameCad").value="",document.getElementById("vehicleDescCad").value="",document.getElementById("vehiclePlateCad").value="",document.getElementById("tipo_busca_cad").value=""}function buscaVehicleAll(){var e=server+"/vehicles";$.ajax({url:e,type:"GET",dataType:"json"}).done(function(e){var l="";e.content.forEach(function(e,t){l+=" <tr> <th>"+e.vehicleid+"</th> <td> "+e.vehicleName+" </td>  <td> "+e.vehicleType.vehicleTypeName+"- Cod.: "+e.vehicleType.veicleTypeid+" </td> <td> "+e.vehiclePlate+" </td> <td> "+e.vehicleDesc+" </td> </tr> "}),$("#BuscaVehicleAll").html(l)}).fail(function(){alert("não foi possivel completar a requisição")}).always(function(){})}function openTab(e,t){var l,c,a;for(document.getElementById("tipo_busca_cad").value="",c=document.getElementsByClassName("tabcontent"),l=0;l<c.length;l++)c[l].style.display="none";for(a=document.getElementsByClassName("tablinks"),l=0;l<a.length;l++)a[l].className=a[l].className.replace(" active","");document.getElementById(t).style.display="block",e.currentTarget.className+=" active",limpacampos(),"Buscar"==t&&(console.log(""),buscaVehicleAll())}$("#buscar_vehicle").click(function(){var e=document.getElementById("vehiclePlate").value;""!=e?(e=server+"/vehicles/plate/"+e,$.ajax({url:e,type:"GET",dataType:"json"}).done(function(e){console.log(e),tipo_veiculo=e.vehicleType.veicleTypeid,veiculo=e.vehicleid,document.getElementById("vehicleDesc").value=e.vehicleDesc,document.getElementById("vehicleName").value=e.vehicleName,document.getElementById("vehiclePlate").value=e.vehiclePlate,document.getElementById("getVehicleType").value="Nome.: "+e.vehicleType.vehicleTypeName}).fail(function(e){"Veiculo não encontrado."==e.responseText?alert("Veiculo não encontrado"):alert("Dado Invalido"),limpacampos()}).always(function(){})):alert("a placa do veiculo deve ser informada")}),$("#btn_busca_tipo_cad").click(function(){var e=document.getElementById("tipo_busca_cad").value;""!=e?(e=server+"/vehiclesType/name/"+e,$.ajax({url:e,type:"GET",dataType:"json"}).done(function(e){console.log("teste"),tipo_veiculo=e.veicleTypeid,document.getElementById("tipo_busca_cad").value=e.vehicleTypeName+" - "+e.veicleTypeid}).fail(function(){tipo_veiculo=0,document.getElementById("tipo_busca_cad").value=""}).always(function(){})):alert("O nome do tipo deve ser informado")}),$("#btn_busca_tipo").click(function(){var e=document.getElementById("getVehicleType").value;""!=e?(e=server+"/vehiclesType/name/"+e,$.ajax({url:e,type:"GET",dataType:"json"}).done(function(e){console.log("teste"),tipo_veiculo=e.veicleTypeid,document.getElementById("getVehicleType").value=e.vehicleTypeName+" - "+e.veicleTypeid}).fail(function(){tipo_veiculo=0,document.getElementById("getVehicleType").value=""}).always(function(){})):alert("O nome do tipo deve ser informado")}),$("#edita_veiculo").click(function(){tipo_veiculo=0;var e={vehicleName:document.getElementById("vehicleNameCad").value,vehicleDesc:document.getElementById("vehicleDescCad").value,vehicleType:tipo_veiculo,vehiclePlate:document.getElementById("vehiclePlateCad").value},t=server+"/vehicles/"+veiculo;$.ajax({url:t,type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(e)}).done(function(e){alert("Editado com sucesso")}).fail(function(e){e.responseText?alert(e.responseText):alert("Dado Invalido"),limpacampos()}).always(function(){})}),$("#cadastra_veiculo").click(function(){var e={vehicleName:document.getElementById("vehicleNameCad").value+"",vehicleDesc:document.getElementById("vehicleDescCad").value+"",vehicleType:tipo_veiculo,vehiclePlate:document.getElementById("vehiclePlateCad").value+""},t=server+"/vehicles";$.ajax({url:t,type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(e)}).done(function(e){alert("Veiculo cadastrado com sucesso"),limpacampos()}).fail(function(){console.log("Erro")}).always(function(){})}),$("#deleta_veiculo").click(function(){var e=server+"/vehicles/"+veiculo;$.ajax({url:e,type:"DEL",dataType:"json"}).done(function(e){alert("Veiculo excluido"),limpacampos()}).fail(function(e){console.log(e)}).always(function(){})}),document.getElementById("defaultOpen").click();