/*!
 * Start Bootstrap - SB Admin 2 v4.1.4 (https://startbootstrap.com/theme/sb-admin-2)
 * Copyright 2013-2022 Start Bootstrap
 * Licensed under MIT (https://github.com/StartBootstrap/startbootstrap-sb-admin-2/blob/master/LICENSE)
 */

const server="http://34.228.53.60:8081",header={"Content-Type":"application/json"};var tipo_veiculo=0,veiculo=0;function limpacampos(){veiculo=tipo_veiculo=0,document.getElementById("desc_type_ed").value="",document.getElementById("name_type_cad").value="",document.getElementById("name_tipo_ed").value="",document.getElementById("tipo_desc_ed").value=""}function buscaVehicTypeleAll(){var e=server+"/vehiclesType/";$.ajax({url:e,type:"GET",dataType:"json"}).done(function(e){var l="";e.content.forEach(function(e,t){l+=" <tr> <th>"+e.veicleTypeid+"</th> <td> "+e.vehicleTypeName+" </td>  <td> "+e.vehicleTypeDesc+" </td> </tr> "}),$("#BuscaVehicleAll").html(l)}).fail(function(){alert("não foi possivel completar a requisição")}).always(function(){})}function openTab(e,t){for(var l,a=document.getElementsByClassName("tabcontent"),c=0;c<a.length;c++)a[c].style.display="none";for(l=document.getElementsByClassName("tablinks"),c=0;c<l.length;c++)l[c].className=l[c].className.replace(" active","");document.getElementById(t).style.display="block",e.currentTarget.className+=" active",limpacampos(),"Buscar"==t&&buscaVehicTypeleAll()}$("#buscar_vehicle").click(function(){var e=document.getElementById("vehiclePlate").value;""!=e?(e=server+"/vehicles/plate/"+e,$.ajax({url:e,type:"GET",dataType:"json"}).done(function(e){console.log(e),tipo_veiculo=e.vehicleType.veicleTypeid,veiculo=e.vehicleid,document.getElementById("vehicleDesc").value=e.vehicleDesc,document.getElementById("vehicleName").value=e.vehicleName,document.getElementById("vehiclePlate").value=e.vehiclePlate,document.getElementById("getVehicleType").value="Nome.: "+e.vehicleType.vehicleTypeName}).fail(function(e){"Veiculo não encontrado."==e.responseText?alert("Veiculo não encontrado"):alert("Dado Invalido"),limpacampos()}).always(function(){})):alert("a placa do veiculo deve ser informada")}),$("#btn_busca_tipo_cad").click(function(){var e=document.getElementById("tipo_busca_cad").value;""!=e?(e=server+"/vehiclesType/name/"+e,$.ajax({url:e,type:"GET",dataType:"json"}).done(function(e){console.log("teste"),tipo_veiculo=e.veicleTypeid,document.getElementById("tipo_busca_cad").value=e.vehicleTypeName+" - "+e.veicleTypeid}).fail(function(){tipo_veiculo=0,document.getElementById("tipo_busca_cad").value=""}).always(function(){})):alert("O nome do tipo deve ser informado")}),$("#busca_tipo").click(function(){var e=document.getElementById("name_tipo_ed").value;""!=e?(e=server+"/vehiclesType/name/"+e,$.ajax({url:e,type:"GET",dataType:"json"}).done(function(e){console.log("teste"),tipo_veiculo=e.veicleTypeid,document.getElementById("name_tipo_ed").value=e.vehicleTypeName+" - "+e.veicleTypeid}).fail(function(){tipo_veiculo=0,document.getElementById("name_tipo_ed").value=""}).always(function(){})):alert("O nome do tipo deve ser informado")}),$("#edita_veiculo").click(function(){tipo_veiculo=0;var e={vehicleName:document.getElementById("vehicleNameCad").value,vehicleDesc:document.getElementById("vehicleDescCad").value,vehicleType:tipo_veiculo,vehiclePlate:document.getElementById("vehiclePlateCad").value},t=server+"/vehicles/"+veiculo;$.ajax({url:t,type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(e)}).done(function(e){alert("Editado com sucesso")}).fail(function(e){e.responseText?alert(e.responseText):alert("Dado Invalido"),limpacampos()}).always(function(){})}),$("#cadastra_veiculo").click(function(){var e={vehicleName:document.getElementById("vehicleNameCad").value+"",vehicleDesc:document.getElementById("vehicleDescCad").value+"",vehicleType:tipo_veiculo,vehiclePlate:document.getElementById("vehiclePlateCad").value+""},t=server+"/vehicles";$.ajax({url:t,type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(e)}).done(function(e){alert("Veiculo cadastrado com sucesso"),limpacampos()}).fail(function(){console.log("Erro")}).always(function(){})}),$("#deleta_veiculo").click(function(){var e=server+"/vehicles/"+veiculo;$.ajax({url:e,type:"DEL",dataType:"json"}).done(function(e){alert("Veiculo excluido"),limpacampos()}).fail(function(e){console.log(e)}).always(function(){})}),document.getElementById("defaultOpen").click();